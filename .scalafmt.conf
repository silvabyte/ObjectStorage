version = "3.8.5"

## Language
runner.dialect = scala3

## Alignment - minimal for cleaner diffs
align {
  preset = none
  openParenCallSite = false
  stripMargin = true
}
assumeStandardLibraryStripMargin = true

rewrite.insertBraces.minLines = 2
rewrite.insertBraces.allBlocks = true

## Line length
maxColumn = 120
danglingParentheses {
  callSite = true
  defnSite = true
}

## Indentation
continuationIndent {
  callSite = 2
  defnSite = 4
}

## Newlines & spacing
newlines.source = keep

## Scaladoc
docstrings {
  style   = Asterisk
  oneline = keep
  wrap    = no
}

## Repo hygiene
project {
  git = true
  excludePaths = [
    "glob:**/target/**",
    "glob:**/out/**",
    "glob:**/node_modules/**",
    "glob:**/generated/**",
    "glob:**/*.generated.scala"
  ]
}

## File-specific tweaks
fileOverride {
  "glob:**/build.mill" { docstrings.style = keep }
}
